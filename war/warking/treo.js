const adminUIDs = ["100030259834679", "100075048608899"]; // Thay báº±ng UID tháº­t cá»§a báº¡n

let isRunning = {}; // Biáº¿n lÆ°u tráº¡ng thÃ¡i cá»§a tá»«ng nhÃ³m

module.exports.config = {
		name: "treo",
		version: "1.0.9",
		hasPermission: 0,
		credits: "ANH QUÃ",
		description: "Tag liÃªn tá»¥c Ä‘á»ƒ chá»­i Ä‘á»©a mÃ  báº¡n ghÃ©t, cháº¡y háº¿t danh sÃ¡ch rá»“i láº·p láº¡i, cÃ³ lá»‡nh stop",
		commandCategory: "WAR",
		usages: "treo | treo stop",
		cooldowns: 10
};

module.exports.run = async function({ api, args, event }) {
		let threadID = event.threadID;
		let senderID = event.senderID;

		// Kiá»ƒm tra quyá»n admin UID
		if (!adminUIDs.includes(senderID)) {
				return api.sendMessage("Báº¡n khÃ´ng cÃ³ quyá»n sá»­ dá»¥ng lá»‡nh nÃ y!", threadID);
		}

		// Dá»«ng lá»‡nh náº¿u nháº­p "stop"
		if (args[0] && args[0].toLowerCase() === "stop") {
				if (isRunning[threadID]) {
						isRunning[threadID] = false;
						return api.sendMessage("tha cho m Ä‘Ã³.", threadID);
				} else {
						return api.sendMessage("KhÃ´ng cÃ³ lá»‡nh chá»­i nÃ o Ä‘ang cháº¡y.", threadID);
				}
		}

		// Kiá»ƒm tra náº¿u khÃ´ng cÃ³ tag ai
		if (!event.mentions || Object.keys(event.mentions).length === 0) {
				return api.sendMessage("m quÃªn @tag kÃ¬a con chÃ³", threadID);
		}

		let mention = Object.keys(event.mentions)[0];
		let name = event.mentions[mention] || "ngÆ°á»i nÃ o Ä‘Ã³";
		let arraytag = [{ id: mention, tag: name }];

		// Danh sÃ¡ch cÃ¢u chá»­i
		let messages = [
				"ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’ðŸ¼ðŸƒðŸ’«ðŸ’®â˜˜ï¸ðŸ’¨â„‚ð•™ð•šð•–Ì‚Ìð•Ÿ ð•‹ð•™ð•’Ì‚Ì€ð•Ÿ ð”¹ð• ð•¥ ð•Žð•’ð•£ ð”»ð•  â„šð•¦ð• ð•” (ð”¹ð•š) ð••ð•–Ì‚Ìð•Ÿ ð••ð•’Ì‚ð•ª ð•¥ð•£ð•–Ì‚ð•Ÿ ð•¤ð•’Ì€ð•Ÿ ð•¨ð•’ð•£ ð•žð•–ð•¤ð•¤ð•’ð•˜ð•–ð•£ðŸŒ¨ï¸â˜”ðŸŒŠðŸ«§âœ¨ðŸŒŸ ðŸ’«ðŸ’®â˜˜ï¸ï¹â£ð…ð«ð¨ð¦  ð’‚ð’†ð’…ð’…ð’’ð’…’"
		];

		isRunning[threadID] = true;
		let index = 0; // Biáº¿n Ä‘áº¿m Ä‘á»ƒ cháº¡y háº¿t danh sÃ¡ch rá»“i láº·p láº¡i

		function sendNextMessage() {
				if (!isRunning[threadID]) return;

				let msg = messages[index].replace(/{name}/g, name); // Thay {name} báº±ng tÃªn ngÆ°á»i bá»‹ tag
				api.sendMessage({ body: msg, mentions: arraytag }, threadID);

				index++; // Chuyá»ƒn sang cÃ¢u tiáº¿p theo
				if (index >= messages.length) index = 0; // Náº¿u háº¿t danh sÃ¡ch thÃ¬ quay láº¡i tá»« Ä‘áº§u

				setTimeout(sendNextMessage, 8000); // Delay 1 phÃºt giá»¯a má»—i tin nháº¯n
					}

		api.sendMessage(`con dog ${name}. Ä‘ang bá»‹ bi treo.`, threadID);
		sendNextMessage();
};